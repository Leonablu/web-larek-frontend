# Проектная работа "Веб-ларек"
https://github.com/Leonablu/web-larek-frontend.git 

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/ — типы данных
 - src/types/models/ — модели данных
  - product.ts — Тип данных для отдельного продукта и списка продуктов
  - order.ts — Тип данных для заказа
  - forms.ts — Тип данных для форм
 - src/types/view/ — типы данных для отображения
  - product.ts — Тип данных для отображения продукта
  - order.ts — Тип данных для отображения заказа
  - сart.ts - Тип данных для корзины
  - mainPage.ts - Тип данных для интерфейса
  - successPurchase - Тип данных для модального окна об успешной покупке
 - src/controller/ — контроллер
  - apiClients.ts — Интерфейсы для API-клиентов
  - cart.ts — Интерфейсы для сервиса работы с корзиной
  - events.ts — Перечисления и интерфейсы для событий

- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура проекта

Проект состоит из следующих основных частей:

1. Данные (models):
- Хранят типы данных, используемые в приложении.
- Включают в себя интерфейсы для продуктов, заказов и форм.

2. Отображения (view):
- Содержат интерфейсы для отображения данных на экране.
- Включают в себя интерфейсы для отображения продуктов, заказов, корзины и главной страницы.

3. Контроллеры (controller):
- Содержат интерфейсы для работы с API и корзиной.
- Включают в себя интерфейсы для API-клиента, сервиса корзины и событий.

## Назначение частей и их функции

### Данные (models)

1. Product
Свойства:
- `id: string` - Идентификатор продукта.
- `description: string` - Описание продукта.
- `image: string` - URL изображения продукта.
- `title: string` - Название продукта.
- `category: string` - Категория продукта.
- `price: number` - Цена продукта.
Описывает тип данных для отдельного продукта.

2. ProductList
Свойства:
- `total: number` - Общее количество продуктов.
- `items: Product[]` - Массив продуктов.
Описывает тип данных для списка продуктов.

3. Order
Свойства:
- `id: string` - Идентификатор заказа.
- `total: number` - Общая сумма заказа.
Описывает тип данных для заказа.

4. PaymentForm
Свойства:
- `onlinePayment: boolean` - Флаг онлайн-оплаты.
- `deliveryAddress: string` - Адрес доставки.
Описывает тип данных для формы способа оплаты.

5. ContactForm
Свойства:
- `email: string` - Электронная почта.
- `phoneNumber: string` - Номер телефона.
Описывает тип данных для формы контактной информации.

### Отображения (view)

1. DisplayProduct
Свойства:
- `id: string` - Идентификатор продукта.
- `title: string` - Название продукта.
- `description: string` - Описание продукта.
- `image: string` - URL изображения продукта.
- `price: string` - Цена продукта.
Описывает тип данных для отображения продукта.

2. DisplayOrder:
Свойства:
- `id: string` - Идентификатор заказа.
- `total: string` - Общая сумма заказа.
Описывает тип данных для отображения заказа.

3. CartItem:
Свойства:
- `product: DisplayProduct` - Продукт в корзине.
- `quantity: number` - Количество продукта.
Описывает тип данных для элемента в корзине.

4. DisplayCart:
Свойства:
- `tems: CartItem[]` - Массив элементов в корзине.
- `total: string` - Общая сумма корзины.
Описывает тип данных для отображения корзины.

5. MainPage:
Свойства:
- `products: DisplayProduct[]` - Массив продуктов.
- `cart: DisplayCart` - Корзина.
- `contactForm: ContactForm` - Форма контактной информации.
Описывает тип данных для главной страницы.

6. SuccessPurchase:
Описывает тип данных для модального окна об успешной покупке.
Свойства:
-`message: string` - Сообщение об успешной покупке.
-`orderId: string` - Идентификатор заказа.


### Контроллеры (controller)

1. APIClientInterface:
Интерфейс для работы с API.
Методы:
getProducts(): Promise<Product[]> - Получение списка продуктов.
createOrder(products: Product[]): Promise<Order> - Создание заказа.
CartServiceInterface:

Интерфейс для работы с корзиной.
Методы:
addToCart(product: Product): void - Добавление продукта в корзину.
removeFromCart(productId: string): void - Удаление продукта из корзины.
getCartItems(): Product[] - Получение продуктов в корзине.
clearCart(): void - Очистка корзины.
Events:

Перечисление событий.
События:
PRODUCT_ADDED = "product_added" - Событие добавления продукта.
ORDER_PLACED = "order_placed" - Событие оформления заказа.
ProductAddedEvent:

Описывает структуру данных для события добавления продукта.
Свойства:
productId: string - Идентификатор добавленного продукта.
OrderPlacedEvent:

Описывает структуру данных для события оформления заказа.
Свойства:
orderId: string - Идентификатор заказа.
orderTotal: number - Общая сумма заказа.

## Взаимодействие частей

- Данные (models) предоставляют типы данных, которые используются в отображениях (view) и контроллерах (controller).
- Отображения (view) используют данные из models для отображения информации на экране.
- Контроллеры (controller) взаимодействуют с models для получения и обработки данных, а также управляют событиями и API-запросами.

## Компоненты приложения

APIClient

Обеспечивает взаимодействие с внешним API для получения продуктов и создания заказов.


Конструктор

`constructor(baseURL: string)`

- baseURL: `string` - базовый URL для API.

Методы

- getProducts: `Promise<Product[]>` - Возвращает список продуктов.
- createOrder: `Promise<Order>` - Создает заказ на основе переданных продуктов.



- CartService: Управляет добавлением, удалением и очисткой продуктов в корзине.
- MainPage: Отображает главную страницу с продуктами, корзиной и формой контактной информации.
- SuccessPurchaseModal: Отображает модальное окно об успешной покупке.

## Реализация процессов в приложении

Процессы в приложении реализованы через события и promise-based flow:

- События: Используются для взаимодействия между различными частями приложения. Например, событие PRODUCT_ADDED вызывается при добавлении продукта в корзину.
- Promise-based flow: Используется для взаимодействия с API. Например, методы getProducts и createOrder возвращают промисы, которые разрешаются при успешном выполнении запросов к API.





















